### Cachao API Tests
### Install "REST Client" extension in Cursor to use these tests
### Extension: https://marketplace.visualstudio.com/items?itemName=humao.rest-client

@baseUrl = https://oi7p8gbold.execute-api.eu-west-1.amazonaws.com/Prod
@authToken = your_token_here

### Test Health Check
GET {{baseUrl}}/health
Accept: application/json

### Test Get All Events
GET {{baseUrl}}/events
Accept: application/json

### Test Get Single Event
GET {{baseUrl}}/events/1
Accept: application/json

### Test Get Event Tickets
GET {{baseUrl}}/events/1/tickets
Accept: application/json
Authorization: Bearer {{authToken}}

### Test Create Ticket Checkout Session
POST {{baseUrl}}/events/1/tickets/1/checkout
Content-Type: application/json
Origin: http://localhost:3000

{
  "email": "test@example.com",
  "quantity": 1,
  "discount_code": ""
}

### Test Create Ticket Checkout with Discount Code
POST {{baseUrl}}/events/1/tickets/1/checkout
Content-Type: application/json
Origin: http://localhost:3000

{
  "email": "test@example.com",
  "quantity": 2,
  "discount_code": "DISCOUNT10"
}

### Test Get Event Staff
GET {{baseUrl}}/events/1/staff
Accept: application/json
Authorization: Bearer {{authToken}}

### Test Get Event Videos
GET {{baseUrl}}/events/1/videos
Accept: application/json
Authorization: Bearer {{authToken}}

### Test Get Event Albums
GET {{baseUrl}}/events/1/albums
Accept: application/json
Authorization: Bearer {{authToken}}

### Test Stripe Webhook (for testing)
POST {{baseUrl}}/webhooks/stripe
Content-Type: application/json
Stripe-Signature: test_signature

{
  "type": "checkout.session.completed",
  "data": {
    "object": {
      "id": "cs_test_123",
      "payment_intent": "pi_test_123",
      "metadata": {
        "order_id": "1"
      }
    }
  }
}


